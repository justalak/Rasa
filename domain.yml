version: "2.0"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - ask_particular_price
  - ask_particular_assets
  - ask_particular_sale
  - inform_stock_name
  - ask_change_price_with_date_range
  - ask_company_info
  - inform_stock_code
  - ask_company_info_by_code

entities:
  - stock_code
  - date_range
  - company_name

slots:
  stock_code:
    type: text
    influence_conversation: false
  date_range:
    type: text
  company_name:
    type: text

actions:
  - action_request_price
  - action_request_assets
  - action_request_sale
  - action_request_price_change
  - action_reset_slot
  - action_request_price_by_company
  - action_get_info
  - action_extract_company_name

responses:
  utter_ask_particular_stock_name:
    - text: "Chúng tôi không tìm thấy dữ liệu 😔 vui lòng nhập lại chính xác mã cổ phiếu hoặc tên công ty cần tìm"
    - text: "Có thể bạn đã nhập sai mã cổ phiếu. Hãy nhập lại chính xác mã hoặc tên công ty bạn cần tìm 👌"
    - text: "Mã cố phiếu này không tồn tại 😥 Hãy thử lại với một mã cổ phiếu hoặc tên công ty khác 😄"

  utter_greet:
    - text: "Hey! How are you?"

  utter_cheer_up:
    - text: "Here is something to cheer you up:"
      image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
    - text: "Did that help you?"

  utter_happy:
    - text: "Great, carry on!"

  utter_goodbye:
    - text: "Bye"

  utter_support_after_answer_price:
    - text: "Bạn có muốn biết thêm các thông tin khác về cổ phiếu, công ty mã *{stock_code}* không 😄"
      buttons:
        - title: "👉 Biến động giá"
          payload: /ask_change_price_with_date_range
        - title: "👉 Thông tin công ty"
          payload: /ask_company_info_by_code
        - title: "👉 Thông tin khác"
          payload: /other_information

  utter_support_price_date_range:
    - text: "Bạn có thể tra cứu biến động giá theo các khoảng thời gian khác nhau ⏱ \n
    👉 Theo tháng \n
    👉 Theo quý \n
    👉 Theo 6 tháng gần nhất \n
    👉 Theo năm"

  utter_more_info:
    - text: "Bạn có cần biết thêm thông tin gì không ? 🧐"
    - text: "Bạn có cần trợ giúp thêm thông tin gì không? 🤔"
    - text: "Rất vui khi được hỗ trợ 😄 Bạn có thêm câu hỏi gì không ?"

  utter_answer_price:
    - text: "Thông tin về giá cổ phiếu mã *{symbol}* cập nhật lúc {time}:\n
    👉 *Tham chiếu*: {basic_price}\n
    👉 *Sàn*: {floor_price}\n
    👉 *Trần*: {ceiling_price}\n
    👉 *Cao/Thấp*: {high_price}/{low_price}\n
    👉 *Dao động*: {change_symbol}  {change} / {change_pct}%"

  utter_answer_price_with_name:
    - text: "Thông tin về giá cổ phiếu mã *{symbol}* - {company_name} cập nhật lúc {time}:\n
      👉 *Tham chiếu*: {basic_price}\n
      👉 *Sàn*: {floor_price}\n
      👉 *Trần*: {ceiling_price}\n
      👉 *Cao/Thấp*: {high_price}/{low_price}\n
      👉 *Dao động*: {change_symbol}  {change} / {change_pct}%"

  utter_answer_price_change:
    - text: "Biểu đồ biến động giá cổ phiếu *{stock_code}* {date_range_text}:"
      image: "{chart_image}"

  utter_answer_company_overview:
    - text: "*{company_name}*\n
    *Giới thiệu*: {overview}"

  utter_answer_company_basic_info:
    - text: "*Lĩnh vực ngành*: {classification}\n
    *Số lượng nhân sự*: {employees}\n
    *Khối lượng đang niêm yết*: {listing_volume}\n
    *Ngày niêm yết*: {date_of_issue}"

forms:
  ask_company_name:
    company_name:
      - type: from_text

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
